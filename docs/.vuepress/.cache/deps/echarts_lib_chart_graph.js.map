{
  "version": 3,
  "sources": ["../../../../node_modules/echarts/lib/chart/graph/categoryFilter.js", "../../../../node_modules/echarts/lib/chart/graph/categoryVisual.js", "../../../../node_modules/echarts/lib/chart/graph/edgeVisual.js", "../../../../node_modules/echarts/lib/chart/helper/multipleGraphEdgeHelper.js", "../../../../node_modules/echarts/lib/chart/graph/simpleLayoutHelper.js", "../../../../node_modules/echarts/lib/chart/graph/simpleLayout.js", "../../../../node_modules/echarts/lib/chart/graph/graphHelper.js", "../../../../node_modules/echarts/lib/chart/graph/circularLayoutHelper.js", "../../../../node_modules/echarts/lib/chart/graph/circularLayout.js", "../../../../node_modules/echarts/lib/chart/graph/forceHelper.js", "../../../../node_modules/echarts/lib/chart/graph/forceLayout.js", "../../../../node_modules/echarts/lib/coord/View.js", "../../../../node_modules/echarts/lib/chart/graph/createView.js", "../../../../node_modules/echarts/lib/chart/helper/labelHelper.js", "../../../../node_modules/echarts/lib/chart/helper/Symbol.js", "../../../../node_modules/echarts/lib/chart/helper/SymbolDraw.js", "../../../../node_modules/echarts/lib/chart/helper/LinePath.js", "../../../../node_modules/echarts/lib/chart/helper/Line.js", "../../../../node_modules/echarts/lib/chart/helper/LineDraw.js", "../../../../node_modules/echarts/lib/component/helper/interactionMutex.js", "../../../../node_modules/echarts/lib/component/helper/RoamController.js", "../../../../node_modules/echarts/lib/component/helper/roamHelper.js", "../../../../node_modules/echarts/lib/component/helper/cursorHelper.js", "../../../../node_modules/echarts/lib/chart/graph/adjustEdge.js", "../../../../node_modules/echarts/lib/chart/graph/GraphView.js", "../../../../node_modules/echarts/lib/data/Graph.js", "../../../../node_modules/echarts/lib/data/helper/linkSeriesData.js", "../../../../node_modules/echarts/lib/chart/helper/createGraphFromNodeEdge.js", "../../../../node_modules/echarts/lib/visual/LegendVisualProvider.js", "../../../../node_modules/echarts/lib/chart/graph/GraphSeries.js", "../../../../node_modules/echarts/lib/action/roamHelper.js", "../../../../node_modules/echarts/lib/chart/graph/install.js", "../../../../node_modules/echarts/lib/chart/graph.js"],
  "sourcesContent": ["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { isNumber } from 'zrender/lib/core/util.js';\nexport default function categoryFilter(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n      if (category != null) {\n        if (isNumber(category)) {\n          category = categoryNames[category];\n        }\n        // If in any legend component the status is not selected.\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend, isString } from 'zrender/lib/core/util.js';\nexport default function categoryVisual(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx);\n      // Add prefix to avoid conflict with Object.prototype.\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var style = itemModel.getModel('itemStyle').getItemStyle();\n      if (!style.fill) {\n        // Get color from palette.\n        style.fill = seriesModel.getColorFromPalette(name, paletteScope);\n      }\n      categoriesData.setItemVisual(idx, 'style', style);\n      var symbolVisualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n      for (var i = 0; i < symbolVisualList.length; i++) {\n        var symbolVisual = itemModel.getShallow(symbolVisualList[i], true);\n        if (symbolVisual != null) {\n          categoriesData.setItemVisual(idx, symbolVisualList[i], symbolVisual);\n        }\n      }\n    });\n    // Assign category color to visual\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var categoryIdx = model.getShallow('category');\n        if (categoryIdx != null) {\n          if (isString(categoryIdx)) {\n            categoryIdx = categoryNameIdxMap['ec-' + categoryIdx];\n          }\n          var categoryStyle = categoriesData.getItemVisual(categoryIdx, 'style');\n          var style = data.ensureUniqueItemVisual(idx, 'style');\n          extend(style, categoryStyle);\n          var visualList = ['symbol', 'symbolSize', 'symbolKeepAspect'];\n          for (var i = 0; i < visualList.length; i++) {\n            data.setItemVisual(idx, visualList[i], categoriesData.getItemVisual(categoryIdx, visualList[i]));\n          }\n        }\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util.js';\nfunction normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n  return a;\n}\nexport default function graphEdgeVisual(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    // const colorQuery = ['lineStyle', 'color'] as const;\n    // const opacityQuery = ['lineStyle', 'opacity'] as const;\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('style', seriesModel.getModel('lineStyle').getLineStyle());\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      // Edge visual must after node visual\n      var style = itemModel.getModel('lineStyle').getLineStyle();\n      var existsStyle = edgeData.ensureUniqueItemVisual(idx, 'style');\n      extend(existsStyle, style);\n      switch (existsStyle.stroke) {\n        case 'source':\n          {\n            var nodeStyle = edge.node1.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n        case 'target':\n          {\n            var nodeStyle = edge.node2.getVisual('style');\n            existsStyle.stroke = nodeStyle && nodeStyle.fill;\n            break;\n          }\n      }\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar KEY_DELIMITER = '-->';\n/**\n * params handler\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {*}\n */\nvar getAutoCurvenessParams = function (seriesModel) {\n  return seriesModel.get('autoCurveness') || null;\n};\n/**\n * Generate a list of edge curvatures, 20 is the default\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} appendLength\n * @return  20 => [0, -0.2, 0.2, -0.4, 0.4, -0.6, 0.6, -0.8, 0.8, -1, 1, -1.2, 1.2, -1.4, 1.4, -1.6, 1.6, -1.8, 1.8, -2]\n */\nvar createCurveness = function (seriesModel, appendLength) {\n  var autoCurvenessParmas = getAutoCurvenessParams(seriesModel);\n  var length = 20;\n  var curvenessList = [];\n  // handler the function set\n  if (zrUtil.isNumber(autoCurvenessParmas)) {\n    length = autoCurvenessParmas;\n  } else if (zrUtil.isArray(autoCurvenessParmas)) {\n    seriesModel.__curvenessList = autoCurvenessParmas;\n    return;\n  }\n  // append length\n  if (appendLength > length) {\n    length = appendLength;\n  }\n  // make sure the length is even\n  var len = length % 2 ? length + 2 : length + 3;\n  curvenessList = [];\n  for (var i = 0; i < len; i++) {\n    curvenessList.push((i % 2 ? i + 1 : i) / 10 * (i % 2 ? -1 : 1));\n  }\n  seriesModel.__curvenessList = curvenessList;\n};\n/**\n * Create different cache key data in the positive and negative directions, in order to set the curvature later\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @returns {string} key\n */\nvar getKeyOfEdges = function (n1, n2, seriesModel) {\n  var source = [n1.id, n1.dataIndex].join('.');\n  var target = [n2.id, n2.dataIndex].join('.');\n  return [seriesModel.uid, source, target].join(KEY_DELIMITER);\n};\n/**\n * get opposite key\n * @param {string} key\n * @returns {string}\n */\nvar getOppositeKey = function (key) {\n  var keys = key.split(KEY_DELIMITER);\n  return [keys[0], keys[2], keys[1]].join(KEY_DELIMITER);\n};\n/**\n * get edgeMap with key\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nvar getEdgeFromMap = function (edge, seriesModel) {\n  var key = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  return seriesModel.__edgeMap[key];\n};\n/**\n * calculate all cases total length\n * @param edge\n * @param seriesModel\n * @returns {number}\n */\nvar getTotalLengthBetweenNodes = function (edge, seriesModel) {\n  var len = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node1, edge.node2, seriesModel), seriesModel);\n  var lenV = getEdgeMapLengthWithKey(getKeyOfEdges(edge.node2, edge.node1, seriesModel), seriesModel);\n  return len + lenV;\n};\n/**\n *\n * @param key\n */\nvar getEdgeMapLengthWithKey = function (key, seriesModel) {\n  var edgeMap = seriesModel.__edgeMap;\n  return edgeMap[key] ? edgeMap[key].length : 0;\n};\n/**\n * Count the number of edges between the same two points, used to obtain the curvature table and the parity of the edge\n * @see /graph/GraphSeries.js@getInitialData\n * @param {module:echarts/model/SeriesModel} seriesModel\n */\nexport function initCurvenessList(seriesModel) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  seriesModel.__curvenessList = [];\n  seriesModel.__edgeMap = {};\n  // calc the array of curveness List\n  createCurveness(seriesModel);\n}\n/**\n * set edgeMap with key\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param {number} index\n */\nexport function createEdgeMapForCurveness(n1, n2, seriesModel, index) {\n  if (!getAutoCurvenessParams(seriesModel)) {\n    return;\n  }\n  var key = getKeyOfEdges(n1, n2, seriesModel);\n  var edgeMap = seriesModel.__edgeMap;\n  var oppositeEdges = edgeMap[getOppositeKey(key)];\n  // set direction\n  if (edgeMap[key] && !oppositeEdges) {\n    edgeMap[key].isForward = true;\n  } else if (oppositeEdges && edgeMap[key]) {\n    oppositeEdges.isForward = true;\n    edgeMap[key].isForward = false;\n  }\n  edgeMap[key] = edgeMap[key] || [];\n  edgeMap[key].push(index);\n}\n/**\n * get curvature for edge\n * @param edge\n * @param {module:echarts/model/SeriesModel} seriesModel\n * @param index\n */\nexport function getCurvenessForEdge(edge, seriesModel, index, needReverse) {\n  var autoCurvenessParams = getAutoCurvenessParams(seriesModel);\n  var isArrayParam = zrUtil.isArray(autoCurvenessParams);\n  if (!autoCurvenessParams) {\n    return null;\n  }\n  var edgeArray = getEdgeFromMap(edge, seriesModel);\n  if (!edgeArray) {\n    return null;\n  }\n  var edgeIndex = -1;\n  for (var i = 0; i < edgeArray.length; i++) {\n    if (edgeArray[i] === index) {\n      edgeIndex = i;\n      break;\n    }\n  }\n  // if totalLen is Longer createCurveness\n  var totalLen = getTotalLengthBetweenNodes(edge, seriesModel);\n  createCurveness(seriesModel, totalLen);\n  edge.lineStyle = edge.lineStyle || {};\n  // if is opposite edge, must set curvenss to opposite number\n  var curKey = getKeyOfEdges(edge.node1, edge.node2, seriesModel);\n  var curvenessList = seriesModel.__curvenessList;\n  // if pass array no need parity\n  var parityCorrection = isArrayParam ? 0 : totalLen % 2 ? 0 : 1;\n  if (!edgeArray.isForward) {\n    // the opposite edge show outside\n    var oppositeKey = getOppositeKey(curKey);\n    var len = getEdgeMapLengthWithKey(oppositeKey, seriesModel);\n    var resValue = curvenessList[edgeIndex + len + parityCorrection];\n    // isNeedReverse, simple, force type need reverse the curveness in the junction of the forword and the opposite\n    if (needReverse) {\n      // set as array may make the parity handle with the len of opposite\n      if (isArrayParam) {\n        if (autoCurvenessParams && autoCurvenessParams[0] === 0) {\n          return (len + parityCorrection) % 2 ? resValue : -resValue;\n        } else {\n          return ((len % 2 ? 0 : 1) + parityCorrection) % 2 ? resValue : -resValue;\n        }\n      } else {\n        return (len + parityCorrection) % 2 ? resValue : -resValue;\n      }\n    } else {\n      return curvenessList[edgeIndex + len + parityCorrection];\n    }\n  } else {\n    return curvenessList[parityCorrection + edgeIndex];\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport function simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph, seriesModel);\n}\nexport function simpleLayoutEdge(graph, seriesModel) {\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, seriesModel, index, true), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n    edge.setLayout(points);\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport { simpleLayout, simpleLayoutEdge } from './simpleLayoutHelper.js';\nexport default function graphSimpleLayout(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      var data_1 = seriesModel.getData();\n      var dimensions_1 = [];\n      each(coordSys.dimensions, function (coordDim) {\n        dimensions_1 = dimensions_1.concat(data_1.mapDimensionsAll(coordDim));\n      });\n      for (var dataIndex = 0; dataIndex < data_1.count(); dataIndex++) {\n        var value = [];\n        var hasValue = false;\n        for (var i = 0; i < dimensions_1.length; i++) {\n          var val = data_1.get(dimensions_1[i], dataIndex);\n          if (!isNaN(val)) {\n            hasValue = true;\n          }\n          value.push(val);\n        }\n        if (hasValue) {\n          data_1.setItemLayout(dataIndex, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data_1.setItemLayout(dataIndex, [NaN, NaN]);\n        }\n      }\n      simpleLayoutEdge(data_1.graph, seriesModel);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nexport function getNodeGlobalScale(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys.type !== 'view') {\n    return 1;\n  }\n  var nodeScaleRatio = seriesModel.option.nodeScaleRatio;\n  var groupZoom = coordSys.scaleX;\n  // Scale node when zoom changes\n  var roamZoom = coordSys.getZoom();\n  var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n  return nodeScale / groupZoom;\n}\nexport function getSymbolSize(node) {\n  var symbolSize = node.getVisual('symbolSize');\n  if (symbolSize instanceof Array) {\n    symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n  }\n  return +symbolSize;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize, getNodeGlobalScale } from './graphHelper.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nvar PI = Math.PI;\nvar _symbolRadiansHalf = [];\n/**\n * `basedOn` can be:\n * 'value':\n *     This layout is not accurate and have same bad case. For example,\n *     if the min value is very smaller than the max value, the nodes\n *     with the min value probably overlap even though there is enough\n *     space to layout them. So we only use this approach in the as the\n *     init layout of the force layout.\n *     FIXME\n *     Probably we do not need this method any more but use\n *     `basedOn: 'symbolSize'` in force layout if\n *     delay its init operations to GraphView.\n * 'symbolSize':\n *     This approach work only if all of the symbol size calculated.\n *     That is, the progressive rendering is not applied to graph.\n *     FIXME\n *     If progressive rendering is applied to graph some day,\n *     probably we have to use `basedOn: 'value'`.\n */\nexport function circularLayout(seriesModel, basedOn, draggingNode, pointer) {\n  var coordSys = seriesModel.coordinateSystem;\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  var count = nodeData.count();\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n  if (!count) {\n    return;\n  }\n  if (draggingNode) {\n    var _a = coordSys.pointToData(pointer),\n      tempX = _a[0],\n      tempY = _a[1];\n    var v = [tempX - cx, tempY - cy];\n    vec2.normalize(v, v);\n    vec2.scale(v, v, r);\n    draggingNode.setLayout([cx + v[0], cy + v[1]], true);\n    var circularRotateLabel = seriesModel.get(['circular', 'rotateLabel']);\n    rotateNodeLabel(draggingNode, circularRotateLabel, cx, cy);\n  }\n  _layoutNodesBasedOn[basedOn](seriesModel, graph, nodeData, r, cx, cy, count);\n  graph.eachEdge(function (edge, index) {\n    var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), getCurvenessForEdge(edge, seriesModel, index), 0);\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\nvar _layoutNodesBasedOn = {\n  value: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var angle = 0;\n    var sum = nodeData.getSum('value');\n    var unitAngle = Math.PI * 2 / (sum || count);\n    graph.eachNode(function (node) {\n      var value = node.getValue('value');\n      var radianHalf = unitAngle * (sum ? value : 1) / 2;\n      angle += radianHalf;\n      node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  },\n  symbolSize: function (seriesModel, graph, nodeData, r, cx, cy, count) {\n    var sumRadian = 0;\n    _symbolRadiansHalf.length = count;\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    graph.eachNode(function (node) {\n      var symbolSize = getSymbolSize(node);\n      // Normally this case will not happen, but we still add\n      // some the defensive code (2px is an arbitrary value).\n      isNaN(symbolSize) && (symbolSize = 2);\n      symbolSize < 0 && (symbolSize = 0);\n      symbolSize *= nodeScale;\n      var symbolRadianHalf = Math.asin(symbolSize / 2 / r);\n      // when `symbolSize / 2` is bigger than `r`.\n      isNaN(symbolRadianHalf) && (symbolRadianHalf = PI / 2);\n      _symbolRadiansHalf[node.dataIndex] = symbolRadianHalf;\n      sumRadian += symbolRadianHalf * 2;\n    });\n    var halfRemainRadian = (2 * PI - sumRadian) / count / 2;\n    var angle = 0;\n    graph.eachNode(function (node) {\n      var radianHalf = halfRemainRadian + _symbolRadiansHalf[node.dataIndex];\n      angle += radianHalf;\n      // init circular layout for\n      // 1. layout undefined node\n      // 2. not fixed node\n      (!node.getLayout() || !node.getLayout().fixed) && node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n      angle += radianHalf;\n    });\n  }\n};\nexport function rotateNodeLabel(node, circularRotateLabel, cx, cy) {\n  var el = node.getGraphicEl();\n  // need to check if el exists. '-' value may not create node element.\n  if (!el) {\n    return;\n  }\n  var nodeModel = node.getModel();\n  var labelRotate = nodeModel.get(['label', 'rotate']) || 0;\n  var symbolPath = el.getSymbolPath();\n  if (circularRotateLabel) {\n    var pos = node.getLayout();\n    var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n    if (rad < 0) {\n      rad = Math.PI * 2 + rad;\n    }\n    var isLeft = pos[0] < cx;\n    if (isLeft) {\n      rad = rad - Math.PI;\n    }\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setTextConfig({\n      rotation: -rad,\n      position: textPosition,\n      origin: 'center'\n    });\n    var emphasisState = symbolPath.ensureState('emphasis');\n    zrUtil.extend(emphasisState.textConfig || (emphasisState.textConfig = {}), {\n      position: textPosition\n    });\n  } else {\n    symbolPath.setTextConfig({\n      rotation: labelRotate *= Math.PI / 180\n    });\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { circularLayout } from './circularLayoutHelper.js';\nexport default function graphCircularLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel, 'symbolSize');\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/*\n* A third-party license is embedded for some of the code in this file:\n* Some formulas were originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment of the method \"step\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar scaleAndAdd = vec2.scaleAndAdd;\n// function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\nexport function forceLayout(inNodes, inEdges, opts) {\n  var nodes = inNodes;\n  var edges = inEdges;\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2];\n  // let scale = opts.scale || 1;\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity;\n  // for (let i = 0; i < edges.length; i++) {\n  //     let e = edges[i];\n  //     let n1 = e.n1;\n  //     let n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n    if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]);\n    }\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  }\n  // Formula in 'Graph Drawing by Force-directed Placement'\n  // let k = scale * Math.sqrt(width * height / nodes.length);\n  // let k2 = k * k;\n  var initialFriction = opts.friction == null ? 0.6 : opts.friction;\n  var friction = initialFriction;\n  var beforeStepCallback;\n  var afterStepCallback;\n  return {\n    warmUp: function () {\n      friction = initialFriction * 0.8;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n    /**\n     * Before step hook\n     */\n    beforeStep: function (cb) {\n      beforeStepCallback = cb;\n    },\n    /**\n     * After step hook\n     */\n    afterStep: function (cb) {\n      afterStepCallback = cb;\n    },\n    /**\n     * Some formulas were originally copied from \"d3.js\"\n     * https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/layout/force.js\n     * with some modifications made for this project.\n     * See the license statement at the head of this file.\n     */\n    step: function (cb) {\n      beforeStepCallback && beforeStepCallback(nodes, edges);\n      var v12 = [];\n      var nLen = nodes.length;\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        if (e.ignoreForceLayout) {\n          continue;\n        }\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n        if (isNaN(w)) {\n          w = 0;\n        }\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      }\n      // Gravity\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p);\n          // let d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // let gravityFactor = gravity;\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      }\n      // Repulsive\n      // PENDING\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n      var v = [];\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n      friction = friction * 0.992;\n      var finished = friction < 0.01;\n      afterStepCallback && afterStepCallback(nodes, edges, finished);\n      cb && cb(finished);\n    }\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { forceLayout } from './forceHelper.js';\nimport { simpleLayout } from './simpleLayoutHelper.js';\nimport { circularLayout } from './circularLayoutHelper.js';\nimport { linearMap } from '../../util/number.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { getCurvenessForEdge } from '../helper/multipleGraphEdgeHelper.js';\nexport default function graphForceLayout(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints_1 = graphSeries.preservedPoints || {};\n      var graph_1 = graphSeries.getGraph();\n      var nodeData_1 = graph_1.data;\n      var edgeData = graph_1.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n      if (graphSeries.preservedPoints) {\n        nodeData_1.each(function (idx) {\n          var id = nodeData_1.getId(idx);\n          nodeData_1.setItemLayout(idx, preservedPoints_1[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries, 'value');\n      }\n      var nodeDataExtent_1 = nodeData_1.getDataExtent('value');\n      var edgeDataExtent_1 = edgeData.getDataExtent('value');\n      // let edgeDataExtent = edgeData.getDataExtent('value');\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n      var repulsionArr_1 = zrUtil.isArray(repulsion) ? repulsion : [repulsion, repulsion];\n      var edgeLengthArr_1 = zrUtil.isArray(edgeLength) ? edgeLength : [edgeLength, edgeLength];\n      // Larger value has smaller length\n      edgeLengthArr_1 = [edgeLengthArr_1[1], edgeLengthArr_1[0]];\n      var nodes_1 = nodeData_1.mapArray('value', function (value, idx) {\n        var point = nodeData_1.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent_1, repulsionArr_1);\n        if (isNaN(rep)) {\n          rep = (repulsionArr_1[0] + repulsionArr_1[1]) / 2;\n        }\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData_1.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph_1.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent_1, edgeLengthArr_1);\n        if (isNaN(d)) {\n          d = (edgeLengthArr_1[0] + edgeLengthArr_1[1]) / 2;\n        }\n        var edgeModel = edge.getModel();\n        var curveness = zrUtil.retrieve3(edge.getModel().get(['lineStyle', 'curveness']), -getCurvenessForEdge(edge, graphSeries, idx, true), 0);\n        return {\n          n1: nodes_1[edge.node1.dataIndex],\n          n2: nodes_1[edge.node2.dataIndex],\n          d: d,\n          curveness: curveness,\n          ignoreForceLayout: edgeModel.get('ignoreForceLayout')\n        };\n      });\n      // let coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes_1, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity'),\n        friction: forceModel.get('friction')\n      });\n      forceInstance.beforeStep(function (nodes, edges) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph_1.getNodeByIndex(i).getLayout());\n          }\n        }\n      });\n      forceInstance.afterStep(function (nodes, edges, stopped) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (!nodes[i].fixed) {\n            graph_1.getNodeByIndex(i).setLayout(nodes[i].p);\n          }\n          preservedPoints_1[nodeData_1.getId(i)] = nodes[i].p;\n        }\n        for (var i = 0, l = edges.length; i < l; i++) {\n          var e = edges[i];\n          var edge = graph_1.getEdgeByIndex(i);\n          var p1 = e.n1.p;\n          var p2 = e.n2.p;\n          var points = edge.getLayout();\n          points = points ? points.slice() : [];\n          points[0] = points[0] || [];\n          points[1] = points[1] || [];\n          vec2.copy(points[0], p1);\n          vec2.copy(points[1], p2);\n          if (+e.curveness) {\n            points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n          }\n          edge.setLayout(points);\n        }\n      });\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints_1;\n      // Step to get the layout\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as matrix from 'zrender/lib/core/matrix.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport Transformable from 'zrender/lib/core/Transformable.js';\nimport { parsePercent } from '../util/number.js';\nvar v2ApplyTransform = vector.applyTransform;\nvar View = /** @class */function (_super) {\n  __extends(View, _super);\n  function View(name) {\n    var _this = _super.call(this) || this;\n    _this.type = 'view';\n    _this.dimensions = ['x', 'y'];\n    /**\n     * Represents the transform brought by roam/zoom.\n     * If `View['_viewRect']` applies roam transform,\n     * we can get the final displayed rect.\n     */\n    _this._roamTransformable = new Transformable();\n    /**\n     * Represents the transform from `View['_rect']` to `View['_viewRect']`.\n     */\n    _this._rawTransformable = new Transformable();\n    _this.name = name;\n    return _this;\n  }\n  View.prototype.setBoundingRect = function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  };\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  View.prototype.getBoundingRect = function () {\n    return this._rect;\n  };\n  View.prototype.setViewRect = function (x, y, width, height) {\n    this._transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  };\n  /**\n   * Transformed to particular position and size\n   */\n  View.prototype._transformTo = function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var rawTransform = this._rawTransformable;\n    rawTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    var rawParent = rawTransform.parent;\n    rawTransform.parent = null;\n    rawTransform.decomposeTransform();\n    rawTransform.parent = rawParent;\n    this._updateTransform();\n  };\n  /**\n   * Set center of view\n   */\n  View.prototype.setCenter = function (centerCoord, api) {\n    if (!centerCoord) {\n      return;\n    }\n    this._center = [parsePercent(centerCoord[0], api.getWidth()), parsePercent(centerCoord[1], api.getHeight())];\n    this._updateCenterAndZoom();\n  };\n  View.prototype.setZoom = function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n    this._zoom = zoom;\n    this._updateCenterAndZoom();\n  };\n  /**\n   * Get default center without roam\n   */\n  View.prototype.getDefaultCenter = function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  };\n  View.prototype.getCenter = function () {\n    return this._center || this.getDefaultCenter();\n  };\n  View.prototype.getZoom = function () {\n    return this._zoom || 1;\n  };\n  View.prototype.getRoamTransform = function () {\n    return this._roamTransformable.getLocalTransform();\n  };\n  /**\n   * Remove roam\n   */\n  View.prototype._updateCenterAndZoom = function () {\n    // Must update after view transform updated\n    var rawTransformMatrix = this._rawTransformable.getLocalTransform();\n    var roamTransform = this._roamTransformable;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, rawTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, rawTransformMatrix);\n    roamTransform.originX = center[0];\n    roamTransform.originY = center[1];\n    roamTransform.x = defaultCenter[0] - center[0];\n    roamTransform.y = defaultCenter[1] - center[1];\n    roamTransform.scaleX = roamTransform.scaleY = zoom;\n    this._updateTransform();\n  };\n  /**\n   * Update transform props on `this` based on the current\n   * `this._roamTransformable` and `this._rawTransformable`.\n   */\n  View.prototype._updateTransform = function () {\n    var roamTransformable = this._roamTransformable;\n    var rawTransformable = this._rawTransformable;\n    rawTransformable.parent = roamTransformable;\n    roamTransformable.updateTransform();\n    rawTransformable.updateTransform();\n    matrix.copy(this.transform || (this.transform = []), rawTransformable.transform || matrix.create());\n    this._rawTransform = rawTransformable.getLocalTransform();\n    this.invTransform = this.invTransform || [];\n    matrix.invert(this.invTransform, this.transform);\n    this.decomposeTransform();\n  };\n  View.prototype.getTransformInfo = function () {\n    var rawTransformable = this._rawTransformable;\n    var roamTransformable = this._roamTransformable;\n    // Because roamTransformabel has `originX/originY` modified,\n    // but the caller of `getTransformInfo` can not handle `originX/originY`,\n    // so need to recalculate them.\n    var dummyTransformable = new Transformable();\n    dummyTransformable.transform = roamTransformable.transform;\n    dummyTransformable.decomposeTransform();\n    return {\n      roam: {\n        x: dummyTransformable.x,\n        y: dummyTransformable.y,\n        scaleX: dummyTransformable.scaleX,\n        scaleY: dummyTransformable.scaleY\n      },\n      raw: {\n        x: rawTransformable.x,\n        y: rawTransformable.y,\n        scaleX: rawTransformable.scaleX,\n        scaleY: rawTransformable.scaleY\n      }\n    };\n  };\n  View.prototype.getViewRect = function () {\n    return this._viewRect;\n  };\n  /**\n   * Get view rect after roam transform\n   */\n  View.prototype.getViewRectAfterRoam = function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  };\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   */\n  View.prototype.dataToPoint = function (data, noRoam, out) {\n    var transform = noRoam ? this._rawTransform : this.transform;\n    out = out || [];\n    return transform ? v2ApplyTransform(out, data, transform) : vector.copy(out, data);\n  };\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   */\n  View.prototype.pointToData = function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  };\n  View.prototype.convertToPixel = function (ecModel, finder, value) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.dataToPoint(value) : null;\n  };\n  View.prototype.convertFromPixel = function (ecModel, finder, pixel) {\n    var coordSys = getCoordSys(finder);\n    return coordSys === this ? coordSys.pointToData(pixel) : null;\n  };\n  /**\n   * @implements\n   */\n  View.prototype.containPoint = function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  };\n  View.dimensions = ['x', 'y'];\n  return View;\n}(Transformable);\nfunction getCoordSys(finder) {\n  var seriesModel = finder.seriesModel;\n  return seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n}\n\nexport default View;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Where to create the simple view coordinate system\nimport View from '../../coord/View.js';\nimport { getLayoutRect } from '../../util/layout.js';\nimport * as bbox from 'zrender/lib/core/bbox.js';\nimport { extend } from 'zrender/lib/core/util.js';\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = extend(seriesModel.getBoxLayoutParams(), {\n    aspect: aspect\n  });\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\nexport default function createViewCoordSys(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n    if (!coordSysType || coordSysType === 'view') {\n      var data_1 = seriesModel.getData();\n      var positions = data_1.mapArray(function (idx) {\n        var itemModel = data_1.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max);\n      // If width or height is 0\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]);\n      // FIXME If get view rect after data processed?\n      var viewRect = getViewRect(seriesModel, api, aspect);\n      // Position may be NaN, use view rect instead\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight);\n      // Update roam info\n      viewCoordSys.setCenter(seriesModel.get('center'), api);\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isArray } from 'zrender/lib/core/util.js';\n/**\n * @return label string. Not null/undefined\n */\nexport function getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  var len = labelDims.length;\n  // Simple optimization (in lots of cases, label dims length is 1)\n  if (len === 1) {\n    var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);\n    return rawVal != null ? rawVal + '' : null;\n  } else if (len) {\n    var vals = [];\n    for (var i = 0; i < labelDims.length; i++) {\n      vals.push(retrieveRawValue(data, dataIndex, labelDims[i]));\n    }\n    return vals.join(' ');\n  }\n}\nexport function getDefaultInterpolatedLabel(data, interpolatedValue) {\n  var labelDims = data.mapDimensionsAll('defaultedLabel');\n  if (!isArray(interpolatedValue)) {\n    return interpolatedValue + '';\n  }\n  var vals = [];\n  for (var i = 0; i < labelDims.length; i++) {\n    var dimIndex = data.getDimensionIndex(labelDims[i]);\n    if (dimIndex >= 0) {\n      vals.push(interpolatedValue[dimIndex]);\n    }\n  }\n  return vals.join(' ');\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { createSymbol, normalizeSymbolOffset, normalizeSymbolSize } from '../../util/symbol.js';\nimport * as graphic from '../../util/graphic.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { enterEmphasis, leaveEmphasis, toggleHoverEmphasis } from '../../util/states.js';\nimport { getDefaultLabel } from './labelHelper.js';\nimport { extend } from 'zrender/lib/core/util.js';\nimport { setLabelStyle, getLabelStatesModels } from '../../label/labelStyle.js';\nimport ZRImage from 'zrender/lib/graphic/Image.js';\nimport { saveOldStyle } from '../../animation/basicTransition.js';\nvar Symbol = /** @class */function (_super) {\n  __extends(Symbol, _super);\n  function Symbol(data, idx, seriesScope, opts) {\n    var _this = _super.call(this) || this;\n    _this.updateData(data, idx, seriesScope, opts);\n    return _this;\n  }\n  Symbol.prototype._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n    // Remove paths created before\n    this.removeAll();\n    // let symbolPath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4150.\n    var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);\n    symbolPath.attr({\n      z2: 100,\n      culling: true,\n      scaleX: symbolSize[0] / 2,\n      scaleY: symbolSize[1] / 2\n    });\n    // Rewrite drift method\n    symbolPath.drift = driftSymbol;\n    this._symbolType = symbolType;\n    this.add(symbolPath);\n  };\n  /**\n   * Stop animation\n   * @param {boolean} toLastFrame\n   */\n  Symbol.prototype.stopSymbolAnimation = function (toLastFrame) {\n    this.childAt(0).stopAnimation(null, toLastFrame);\n  };\n  Symbol.prototype.getSymbolType = function () {\n    return this._symbolType;\n  };\n  /**\n   * FIXME:\n   * Caution: This method breaks the encapsulation of this module,\n   * but it indeed brings convenience. So do not use the method\n   * unless you detailedly know all the implements of `Symbol`,\n   * especially animation.\n   *\n   * Get symbol path element.\n   */\n  Symbol.prototype.getSymbolPath = function () {\n    return this.childAt(0);\n  };\n  /**\n   * Highlight symbol\n   */\n  Symbol.prototype.highlight = function () {\n    enterEmphasis(this.childAt(0));\n  };\n  /**\n   * Downplay symbol\n   */\n  Symbol.prototype.downplay = function () {\n    leaveEmphasis(this.childAt(0));\n  };\n  /**\n   * @param {number} zlevel\n   * @param {number} z\n   */\n  Symbol.prototype.setZ = function (zlevel, z) {\n    var symbolPath = this.childAt(0);\n    symbolPath.zlevel = zlevel;\n    symbolPath.z = z;\n  };\n  Symbol.prototype.setDraggable = function (draggable, hasCursorOption) {\n    var symbolPath = this.childAt(0);\n    symbolPath.draggable = draggable;\n    symbolPath.cursor = !hasCursorOption && draggable ? 'move' : symbolPath.cursor;\n  };\n  /**\n   * Update symbol properties\n   */\n  Symbol.prototype.updateData = function (data, idx, seriesScope, opts) {\n    this.silent = false;\n    var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n    var seriesModel = data.hostModel;\n    var symbolSize = Symbol.getSymbolSize(data, idx);\n    var isInit = symbolType !== this._symbolType;\n    var disableAnimation = opts && opts.disableAnimation;\n    if (isInit) {\n      var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n      this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n    } else {\n      var symbolPath = this.childAt(0);\n      symbolPath.silent = false;\n      var target = {\n        scaleX: symbolSize[0] / 2,\n        scaleY: symbolSize[1] / 2\n      };\n      disableAnimation ? symbolPath.attr(target) : graphic.updateProps(symbolPath, target, seriesModel, idx);\n      saveOldStyle(symbolPath);\n    }\n    this._updateCommon(data, idx, symbolSize, seriesScope, opts);\n    if (isInit) {\n      var symbolPath = this.childAt(0);\n      if (!disableAnimation) {\n        var target = {\n          scaleX: this._sizeX,\n          scaleY: this._sizeY,\n          style: {\n            // Always fadeIn. Because it has fadeOut animation when symbol is removed..\n            opacity: symbolPath.style.opacity\n          }\n        };\n        symbolPath.scaleX = symbolPath.scaleY = 0;\n        symbolPath.style.opacity = 0;\n        graphic.initProps(symbolPath, target, seriesModel, idx);\n      }\n    }\n    if (disableAnimation) {\n      // Must stop leave transition manually if don't call initProps or updateProps.\n      this.childAt(0).stopAnimation('leave');\n    }\n  };\n  Symbol.prototype._updateCommon = function (data, idx, symbolSize, seriesScope, opts) {\n    var symbolPath = this.childAt(0);\n    var seriesModel = data.hostModel;\n    var emphasisItemStyle;\n    var blurItemStyle;\n    var selectItemStyle;\n    var focus;\n    var blurScope;\n    var emphasisDisabled;\n    var labelStatesModels;\n    var hoverScale;\n    var cursorStyle;\n    if (seriesScope) {\n      emphasisItemStyle = seriesScope.emphasisItemStyle;\n      blurItemStyle = seriesScope.blurItemStyle;\n      selectItemStyle = seriesScope.selectItemStyle;\n      focus = seriesScope.focus;\n      blurScope = seriesScope.blurScope;\n      labelStatesModels = seriesScope.labelStatesModels;\n      hoverScale = seriesScope.hoverScale;\n      cursorStyle = seriesScope.cursorStyle;\n      emphasisDisabled = seriesScope.emphasisDisabled;\n    }\n    if (!seriesScope || data.hasItemOption) {\n      var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisItemStyle = emphasisModel.getModel('itemStyle').getItemStyle();\n      selectItemStyle = itemModel.getModel(['select', 'itemStyle']).getItemStyle();\n      blurItemStyle = itemModel.getModel(['blur', 'itemStyle']).getItemStyle();\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      emphasisDisabled = emphasisModel.get('disabled');\n      labelStatesModels = getLabelStatesModels(itemModel);\n      hoverScale = emphasisModel.getShallow('scale');\n      cursorStyle = itemModel.getShallow('cursor');\n    }\n    var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n    symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n    var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, 'symbolOffset'), symbolSize);\n    if (symbolOffset) {\n      symbolPath.x = symbolOffset[0];\n      symbolPath.y = symbolOffset[1];\n    }\n    cursorStyle && symbolPath.attr('cursor', cursorStyle);\n    var symbolStyle = data.getItemVisual(idx, 'style');\n    var visualColor = symbolStyle.fill;\n    if (symbolPath instanceof ZRImage) {\n      var pathStyle = symbolPath.style;\n      symbolPath.useStyle(extend({\n        // TODO other properties like x, y ?\n        image: pathStyle.image,\n        x: pathStyle.x,\n        y: pathStyle.y,\n        width: pathStyle.width,\n        height: pathStyle.height\n      }, symbolStyle));\n    } else {\n      if (symbolPath.__isEmptyBrush) {\n        // fill and stroke will be swapped if it's empty.\n        // So we cloned a new style to avoid it affecting the original style in visual storage.\n        // TODO Better implementation. No empty logic!\n        symbolPath.useStyle(extend({}, symbolStyle));\n      } else {\n        symbolPath.useStyle(symbolStyle);\n      }\n      // Disable decal because symbol scale will been applied on the decal.\n      symbolPath.style.decal = null;\n      symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);\n      symbolPath.style.strokeNoScale = true;\n    }\n    var liftZ = data.getItemVisual(idx, 'liftZ');\n    var z2Origin = this._z2;\n    if (liftZ != null) {\n      if (z2Origin == null) {\n        this._z2 = symbolPath.z2;\n        symbolPath.z2 += liftZ;\n      }\n    } else if (z2Origin != null) {\n      symbolPath.z2 = z2Origin;\n      this._z2 = null;\n    }\n    var useNameLabel = opts && opts.useNameLabel;\n    setLabelStyle(symbolPath, labelStatesModels, {\n      labelFetcher: seriesModel,\n      labelDataIndex: idx,\n      defaultText: getLabelDefaultText,\n      inheritColor: visualColor,\n      defaultOpacity: symbolStyle.opacity\n    });\n    // Do not execute util needed.\n    function getLabelDefaultText(idx) {\n      return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n    }\n    this._sizeX = symbolSize[0] / 2;\n    this._sizeY = symbolSize[1] / 2;\n    var emphasisState = symbolPath.ensureState('emphasis');\n    emphasisState.style = emphasisItemStyle;\n    symbolPath.ensureState('select').style = selectItemStyle;\n    symbolPath.ensureState('blur').style = blurItemStyle;\n    // null / undefined / true means to use default strategy.\n    // 0 / false / negative number / NaN / Infinity means no scale.\n    var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY)\n    // PENDING: restrict hoverScale > 1? It seems unreasonable to scale down\n    : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1;\n    // always set scale to allow resetting\n    emphasisState.scaleX = this._sizeX * scaleRatio;\n    emphasisState.scaleY = this._sizeY * scaleRatio;\n    this.setSymbolScale(1);\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Symbol.prototype.setSymbolScale = function (scale) {\n    this.scaleX = this.scaleY = scale;\n  };\n  Symbol.prototype.fadeOut = function (cb, seriesModel, opt) {\n    var symbolPath = this.childAt(0);\n    var dataIndex = getECData(this).dataIndex;\n    var animationOpt = opt && opt.animation;\n    // Avoid mistaken hover when fading out\n    this.silent = symbolPath.silent = true;\n    // Not show text when animating\n    if (opt && opt.fadeLabel) {\n      var textContent = symbolPath.getTextContent();\n      if (textContent) {\n        graphic.removeElement(textContent, {\n          style: {\n            opacity: 0\n          }\n        }, seriesModel, {\n          dataIndex: dataIndex,\n          removeOpt: animationOpt,\n          cb: function () {\n            symbolPath.removeTextContent();\n          }\n        });\n      }\n    } else {\n      symbolPath.removeTextContent();\n    }\n    graphic.removeElement(symbolPath, {\n      style: {\n        opacity: 0\n      },\n      scaleX: 0,\n      scaleY: 0\n    }, seriesModel, {\n      dataIndex: dataIndex,\n      cb: cb,\n      removeOpt: animationOpt\n    });\n  };\n  Symbol.getSymbolSize = function (data, idx) {\n    return normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  };\n  return Symbol;\n}(graphic.Group);\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\nexport default Symbol;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport SymbolClz from './Symbol.js';\nimport { isObject } from 'zrender/lib/core/util.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx))\n  // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n  return opt || {};\n}\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  var emphasisModel = seriesModel.getModel('emphasis');\n  return {\n    emphasisItemStyle: emphasisModel.getModel('itemStyle').getItemStyle(),\n    blurItemStyle: seriesModel.getModel(['blur', 'itemStyle']).getItemStyle(),\n    selectItemStyle: seriesModel.getModel(['select', 'itemStyle']).getItemStyle(),\n    focus: emphasisModel.get('focus'),\n    blurScope: emphasisModel.get('blurScope'),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    hoverScale: emphasisModel.get('scale'),\n    labelStatesModels: getLabelStatesModels(seriesModel),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\nvar SymbolDraw = /** @class */function () {\n  function SymbolDraw(SymbolCtor) {\n    this.group = new graphic.Group();\n    this._SymbolCtor = SymbolCtor || SymbolClz;\n  }\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.updateData = function (data, opt) {\n    // Remove progressive els.\n    this._progressiveEls = null;\n    opt = normalizeUpdateOpt(opt);\n    var group = this.group;\n    var seriesModel = data.hostModel;\n    var oldData = this._data;\n    var SymbolCtor = this._SymbolCtor;\n    var disableAnimation = opt.disableAnimation;\n    var seriesScope = makeSeriesScope(data);\n    var symbolUpdateOpt = {\n      disableAnimation: disableAnimation\n    };\n    var getSymbolPoint = opt.getSymbolPoint || function (idx) {\n      return data.getItemLayout(idx);\n    };\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldData) {\n      group.removeAll();\n    }\n    data.diff(oldData).add(function (newIdx) {\n      var point = getSymbolPoint(newIdx);\n      if (symbolNeedsDraw(data, point, newIdx, opt)) {\n        var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n        data.setItemGraphicEl(newIdx, symbolEl);\n        group.add(symbolEl);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      var point = getSymbolPoint(newIdx);\n      if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n        group.remove(symbolEl);\n        return;\n      }\n      var newSymbolType = data.getItemVisual(newIdx, 'symbol') || 'circle';\n      var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();\n      if (!symbolEl\n      // Create a new if symbol type changed.\n      || oldSymbolType && oldSymbolType !== newSymbolType) {\n        group.remove(symbolEl);\n        symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);\n        symbolEl.setPosition(point);\n      } else {\n        symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);\n        var target = {\n          x: point[0],\n          y: point[1]\n        };\n        disableAnimation ? symbolEl.attr(target) : graphic.updateProps(symbolEl, target, seriesModel);\n      }\n      // Add back\n      group.add(symbolEl);\n      data.setItemGraphicEl(newIdx, symbolEl);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && el.fadeOut(function () {\n        group.remove(el);\n      }, seriesModel);\n    }).execute();\n    this._getSymbolPoint = getSymbolPoint;\n    this._data = data;\n  };\n  ;\n  SymbolDraw.prototype.updateLayout = function () {\n    var _this = this;\n    var data = this._data;\n    if (data) {\n      // Not use animation\n      data.eachItemGraphicEl(function (el, idx) {\n        var point = _this._getSymbolPoint(idx);\n        el.setPosition(point);\n        el.markRedraw();\n      });\n    }\n  };\n  ;\n  SymbolDraw.prototype.incrementalPrepareUpdate = function (data) {\n    this._seriesScope = makeSeriesScope(data);\n    this._data = null;\n    this.group.removeAll();\n  };\n  ;\n  /**\n   * Update symbols draw by new data\n   */\n  SymbolDraw.prototype.incrementalUpdate = function (taskParams, data, opt) {\n    // Clear\n    this._progressiveEls = [];\n    opt = normalizeUpdateOpt(opt);\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var point = data.getItemLayout(idx);\n      if (symbolNeedsDraw(data, point, idx, opt)) {\n        var el = new this._SymbolCtor(data, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        el.setPosition(point);\n        this.group.add(el);\n        data.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  SymbolDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  SymbolDraw.prototype.remove = function (enableAnimation) {\n    var group = this.group;\n    var data = this._data;\n    // Incremental model do not have this._data.\n    if (data && enableAnimation) {\n      data.eachItemGraphicEl(function (el) {\n        el.fadeOut(function () {\n          group.remove(el);\n        }, data.hostModel);\n      });\n    } else {\n      group.removeAll();\n    }\n  };\n  ;\n  return SymbolDraw;\n}();\nexport default SymbolDraw;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\n/**\n * Line path for bezier and straight line draw\n */\nimport * as graphic from '../../util/graphic.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\nvar StraightLineShape = /** @class */function () {\n  function StraightLineShape() {\n    // Start point\n    this.x1 = 0;\n    this.y1 = 0;\n    // End point\n    this.x2 = 0;\n    this.y2 = 0;\n    this.percent = 1;\n  }\n  return StraightLineShape;\n}();\nvar CurveShape = /** @class */function (_super) {\n  __extends(CurveShape, _super);\n  function CurveShape() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return CurveShape;\n}(StraightLineShape);\nfunction isStraightLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\nvar ECLinePath = /** @class */function (_super) {\n  __extends(ECLinePath, _super);\n  function ECLinePath(opts) {\n    var _this = _super.call(this, opts) || this;\n    _this.type = 'ec-line';\n    return _this;\n  }\n  ECLinePath.prototype.getDefaultStyle = function () {\n    return {\n      stroke: '#000',\n      fill: null\n    };\n  };\n  ECLinePath.prototype.getDefaultShape = function () {\n    return new StraightLineShape();\n  };\n  ECLinePath.prototype.buildPath = function (ctx, shape) {\n    if (isStraightLine(shape)) {\n      straightLineProto.buildPath.call(this, ctx, shape);\n    } else {\n      bezierCurveProto.buildPath.call(this, ctx, shape);\n    }\n  };\n  ECLinePath.prototype.pointAt = function (t) {\n    if (isStraightLine(this.shape)) {\n      return straightLineProto.pointAt.call(this, t);\n    } else {\n      return bezierCurveProto.pointAt.call(this, t);\n    }\n  };\n  ECLinePath.prototype.tangentAt = function (t) {\n    var shape = this.shape;\n    var p = isStraightLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  };\n  return ECLinePath;\n}(graphic.Path);\nexport default ECLinePath;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport { isArray, each } from 'zrender/lib/core/util.js';\nimport * as vector from 'zrender/lib/core/vector.js';\nimport * as symbolUtil from '../../util/symbol.js';\nimport ECLinePath from './LinePath.js';\nimport * as graphic from '../../util/graphic.js';\nimport { toggleHoverEmphasis, enterEmphasis, leaveEmphasis, SPECIAL_STATES } from '../../util/states.js';\nimport { getLabelStatesModels, setLabelStyle } from '../../label/labelStyle.js';\nimport { round } from '../../util/number.js';\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\nfunction makeSymbolTypeValue(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return symbolType;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  return symbolType + symbolSizeArr + symbolOffsetArr + (symbolRotate || '') + (symbolKeepAspect || '');\n}\n/**\n * @inner\n */\nfunction createSymbol(name, lineData, idx) {\n  var symbolType = lineData.getItemVisual(idx, name);\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n  var symbolRotate = lineData.getItemVisual(idx, name + 'Rotate');\n  var symbolOffset = lineData.getItemVisual(idx, name + 'Offset');\n  var symbolKeepAspect = lineData.getItemVisual(idx, name + 'KeepAspect');\n  var symbolSizeArr = symbolUtil.normalizeSymbolSize(symbolSize);\n  var symbolOffsetArr = symbolUtil.normalizeSymbolOffset(symbolOffset || 0, symbolSizeArr);\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSizeArr[0] / 2 + symbolOffsetArr[0], -symbolSizeArr[1] / 2 + symbolOffsetArr[1], symbolSizeArr[0], symbolSizeArr[1], null, symbolKeepAspect);\n  symbolPath.__specifiedRotation = symbolRotate == null || isNaN(symbolRotate) ? void 0 : +symbolRotate * Math.PI / 180 || 0;\n  symbolPath.name = name;\n  return symbolPath;\n}\nfunction createLine(points) {\n  var line = new ECLinePath({\n    name: 'line',\n    subPixelOptimize: true\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\nfunction setLinePoints(targetShape, points) {\n  targetShape.x1 = points[0][0];\n  targetShape.y1 = points[0][1];\n  targetShape.x2 = points[1][0];\n  targetShape.y2 = points[1][1];\n  targetShape.percent = 1;\n  var cp1 = points[2];\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\nvar Line = /** @class */function (_super) {\n  __extends(Line, _super);\n  function Line(lineData, idx, seriesScope) {\n    var _this = _super.call(this) || this;\n    _this._createLine(lineData, idx, seriesScope);\n    return _this;\n  }\n  Line.prototype._createLine = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var linePoints = lineData.getItemLayout(idx);\n    var line = createLine(linePoints);\n    line.shape.percent = 0;\n    graphic.initProps(line, {\n      shape: {\n        percent: 1\n      }\n    }, seriesModel, idx);\n    this.add(line);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      // symbols must added after line to make sure\n      // it will be updated after line#update.\n      // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n      this.add(symbol);\n      this[makeSymbolTypeKey(symbolCategory)] = makeSymbolTypeValue(symbolCategory, lineData, idx);\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  // TODO More strict on the List type in parameters?\n  Line.prototype.updateData = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var linePoints = lineData.getItemLayout(idx);\n    var target = {\n      shape: {}\n    };\n    setLinePoints(target.shape, linePoints);\n    graphic.updateProps(line, target, seriesModel, idx);\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbolType = makeSymbolTypeValue(symbolCategory, lineData, idx);\n      var key = makeSymbolTypeKey(symbolCategory);\n      // Symbol changed\n      if (this[key] !== symbolType) {\n        this.remove(this.childOfName(symbolCategory));\n        var symbol = createSymbol(symbolCategory, lineData, idx);\n        this.add(symbol);\n      }\n      this[key] = symbolType;\n    }, this);\n    this._updateCommonStl(lineData, idx, seriesScope);\n  };\n  ;\n  Line.prototype.getLinePath = function () {\n    return this.childAt(0);\n  };\n  Line.prototype._updateCommonStl = function (lineData, idx, seriesScope) {\n    var seriesModel = lineData.hostModel;\n    var line = this.childOfName('line');\n    var emphasisLineStyle = seriesScope && seriesScope.emphasisLineStyle;\n    var blurLineStyle = seriesScope && seriesScope.blurLineStyle;\n    var selectLineStyle = seriesScope && seriesScope.selectLineStyle;\n    var labelStatesModels = seriesScope && seriesScope.labelStatesModels;\n    var emphasisDisabled = seriesScope && seriesScope.emphasisDisabled;\n    var focus = seriesScope && seriesScope.focus;\n    var blurScope = seriesScope && seriesScope.blurScope;\n    // Optimization for large dataset\n    if (!seriesScope || lineData.hasItemOption) {\n      var itemModel = lineData.getItemModel(idx);\n      var emphasisModel = itemModel.getModel('emphasis');\n      emphasisLineStyle = emphasisModel.getModel('lineStyle').getLineStyle();\n      blurLineStyle = itemModel.getModel(['blur', 'lineStyle']).getLineStyle();\n      selectLineStyle = itemModel.getModel(['select', 'lineStyle']).getLineStyle();\n      emphasisDisabled = emphasisModel.get('disabled');\n      focus = emphasisModel.get('focus');\n      blurScope = emphasisModel.get('blurScope');\n      labelStatesModels = getLabelStatesModels(itemModel);\n    }\n    var lineStyle = lineData.getItemVisual(idx, 'style');\n    var visualColor = lineStyle.stroke;\n    line.useStyle(lineStyle);\n    line.style.fill = null;\n    line.style.strokeNoScale = true;\n    line.ensureState('emphasis').style = emphasisLineStyle;\n    line.ensureState('blur').style = blurLineStyle;\n    line.ensureState('select').style = selectLineStyle;\n    // Update symbol\n    each(SYMBOL_CATEGORIES, function (symbolCategory) {\n      var symbol = this.childOfName(symbolCategory);\n      if (symbol) {\n        // Share opacity and color with line.\n        symbol.setColor(visualColor);\n        symbol.style.opacity = lineStyle.opacity;\n        for (var i = 0; i < SPECIAL_STATES.length; i++) {\n          var stateName = SPECIAL_STATES[i];\n          var lineState = line.getState(stateName);\n          if (lineState) {\n            var lineStateStyle = lineState.style || {};\n            var state = symbol.ensureState(stateName);\n            var stateStyle = state.style || (state.style = {});\n            if (lineStateStyle.stroke != null) {\n              stateStyle[symbol.__isEmptyBrush ? 'stroke' : 'fill'] = lineStateStyle.stroke;\n            }\n            if (lineStateStyle.opacity != null) {\n              stateStyle.opacity = lineStateStyle.opacity;\n            }\n          }\n        }\n        symbol.markRedraw();\n      }\n    }, this);\n    var rawVal = seriesModel.getRawValue(idx);\n    setLabelStyle(this, labelStatesModels, {\n      labelDataIndex: idx,\n      labelFetcher: {\n        getFormattedLabel: function (dataIndex, stateName) {\n          return seriesModel.getFormattedLabel(dataIndex, stateName, lineData.dataType);\n        }\n      },\n      inheritColor: visualColor || '#000',\n      defaultOpacity: lineStyle.opacity,\n      defaultText: (rawVal == null ? lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal) + ''\n    });\n    var label = this.getTextContent();\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    if (label) {\n      var labelNormalModel = labelStatesModels.normal;\n      label.__align = label.style.align;\n      label.__verticalAlign = label.style.verticalAlign;\n      // 'start', 'middle', 'end'\n      label.__position = labelNormalModel.get('position') || 'middle';\n      var distance = labelNormalModel.get('distance');\n      if (!isArray(distance)) {\n        distance = [distance, distance];\n      }\n      label.__labelDistance = distance;\n    }\n    this.setTextConfig({\n      position: null,\n      local: true,\n      inside: false // Can't be inside for stroke element.\n    });\n\n    toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);\n  };\n  Line.prototype.highlight = function () {\n    enterEmphasis(this);\n  };\n  Line.prototype.downplay = function () {\n    leaveEmphasis(this);\n  };\n  Line.prototype.updateLayout = function (lineData, idx) {\n    this.setLinePoints(lineData.getItemLayout(idx));\n  };\n  Line.prototype.setLinePoints = function (points) {\n    var linePath = this.childOfName('line');\n    setLinePoints(linePath.shape, points);\n    linePath.dirty();\n  };\n  Line.prototype.beforeUpdate = function () {\n    var lineGroup = this;\n    var symbolFrom = lineGroup.childOfName('fromSymbol');\n    var symbolTo = lineGroup.childOfName('toSymbol');\n    var label = lineGroup.getTextContent();\n    // Quick reject\n    if (!symbolFrom && !symbolTo && (!label || label.ignore)) {\n      return;\n    }\n    var invScale = 1;\n    var parentNode = this.parent;\n    while (parentNode) {\n      if (parentNode.scaleX) {\n        invScale /= parentNode.scaleX;\n      }\n      parentNode = parentNode.parent;\n    }\n    var line = lineGroup.childOfName('line');\n    // If line not changed\n    // FIXME Parent scale changed\n    if (!this.__dirty && !line.__dirty) {\n      return;\n    }\n    var percent = line.shape.percent;\n    var fromPos = line.pointAt(0);\n    var toPos = line.pointAt(percent);\n    var d = vector.sub([], toPos, fromPos);\n    vector.normalize(d, d);\n    function setSymbolRotation(symbol, percent) {\n      // Fix #12388\n      // when symbol is set to be 'arrow' in markLine,\n      // symbolRotate value will be ignored, and compulsively use tangent angle.\n      // rotate by default if symbol rotation is not specified\n      var specifiedRotation = symbol.__specifiedRotation;\n      if (specifiedRotation == null) {\n        var tangent = line.tangentAt(percent);\n        symbol.attr('rotation', (percent === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n      } else {\n        symbol.attr('rotation', specifiedRotation);\n      }\n    }\n    if (symbolFrom) {\n      symbolFrom.setPosition(fromPos);\n      setSymbolRotation(symbolFrom, 0);\n      symbolFrom.scaleX = symbolFrom.scaleY = invScale * percent;\n      symbolFrom.markRedraw();\n    }\n    if (symbolTo) {\n      symbolTo.setPosition(toPos);\n      setSymbolRotation(symbolTo, 1);\n      symbolTo.scaleX = symbolTo.scaleY = invScale * percent;\n      symbolTo.markRedraw();\n    }\n    if (label && !label.ignore) {\n      label.x = label.y = 0;\n      label.originX = label.originY = 0;\n      var textAlign = void 0;\n      var textVerticalAlign = void 0;\n      var distance = label.__labelDistance;\n      var distanceX = distance[0] * invScale;\n      var distanceY = distance[1] * invScale;\n      var halfPercent = percent / 2;\n      var tangent = line.tangentAt(halfPercent);\n      var n = [tangent[1], -tangent[0]];\n      var cp = line.pointAt(halfPercent);\n      if (n[1] > 0) {\n        n[0] = -n[0];\n        n[1] = -n[1];\n      }\n      var dir = tangent[0] < 0 ? -1 : 1;\n      if (label.__position !== 'start' && label.__position !== 'end') {\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n        label.rotation = rotation;\n      }\n      var dy = void 0;\n      switch (label.__position) {\n        case 'insideStartTop':\n        case 'insideMiddleTop':\n        case 'insideEndTop':\n        case 'middle':\n          dy = -distanceY;\n          textVerticalAlign = 'bottom';\n          break;\n        case 'insideStartBottom':\n        case 'insideMiddleBottom':\n        case 'insideEndBottom':\n          dy = distanceY;\n          textVerticalAlign = 'top';\n          break;\n        default:\n          dy = 0;\n          textVerticalAlign = 'middle';\n      }\n      switch (label.__position) {\n        case 'end':\n          label.x = d[0] * distanceX + toPos[0];\n          label.y = d[1] * distanceY + toPos[1];\n          textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n          break;\n        case 'start':\n          label.x = -d[0] * distanceX + fromPos[0];\n          label.y = -d[1] * distanceY + fromPos[1];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n          break;\n        case 'insideStartTop':\n        case 'insideStart':\n        case 'insideStartBottom':\n          label.x = distanceX * dir + fromPos[0];\n          label.y = fromPos[1] + dy;\n          textAlign = tangent[0] < 0 ? 'right' : 'left';\n          label.originX = -distanceX * dir;\n          label.originY = -dy;\n          break;\n        case 'insideMiddleTop':\n        case 'insideMiddle':\n        case 'insideMiddleBottom':\n        case 'middle':\n          label.x = cp[0];\n          label.y = cp[1] + dy;\n          textAlign = 'center';\n          label.originY = -dy;\n          break;\n        case 'insideEndTop':\n        case 'insideEnd':\n        case 'insideEndBottom':\n          label.x = -distanceX * dir + toPos[0];\n          label.y = toPos[1] + dy;\n          textAlign = tangent[0] >= 0 ? 'right' : 'left';\n          label.originX = distanceX * dir;\n          label.originY = -dy;\n          break;\n      }\n      label.scaleX = label.scaleY = invScale;\n      label.setStyle({\n        // Use the user specified text align and baseline first\n        verticalAlign: label.__verticalAlign || textVerticalAlign,\n        align: label.__align || textAlign\n      });\n    }\n  };\n  return Line;\n}(graphic.Group);\nexport default Line;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as graphic from '../../util/graphic.js';\nimport LineGroup from './Line.js';\nimport { getLabelStatesModels } from '../../label/labelStyle.js';\nvar LineDraw = /** @class */function () {\n  function LineDraw(LineCtor) {\n    this.group = new graphic.Group();\n    this._LineCtor = LineCtor || LineGroup;\n  }\n  LineDraw.prototype.updateData = function (lineData) {\n    var _this = this;\n    // Remove progressive els.\n    this._progressiveEls = null;\n    var lineDraw = this;\n    var group = lineDraw.group;\n    var oldLineData = lineDraw._lineData;\n    lineDraw._lineData = lineData;\n    // There is no oldLineData only when first rendering or switching from\n    // stream mode to normal mode, where previous elements should be removed.\n    if (!oldLineData) {\n      group.removeAll();\n    }\n    var seriesScope = makeSeriesScope(lineData);\n    lineData.diff(oldLineData).add(function (idx) {\n      _this._doAdd(lineData, idx, seriesScope);\n    }).update(function (newIdx, oldIdx) {\n      _this._doUpdate(oldLineData, lineData, oldIdx, newIdx, seriesScope);\n    }).remove(function (idx) {\n      group.remove(oldLineData.getItemGraphicEl(idx));\n    }).execute();\n  };\n  ;\n  LineDraw.prototype.updateLayout = function () {\n    var lineData = this._lineData;\n    // Do not support update layout in incremental mode.\n    if (!lineData) {\n      return;\n    }\n    lineData.eachItemGraphicEl(function (el, idx) {\n      el.updateLayout(lineData, idx);\n    }, this);\n  };\n  ;\n  LineDraw.prototype.incrementalPrepareUpdate = function (lineData) {\n    this._seriesScope = makeSeriesScope(lineData);\n    this._lineData = null;\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.incrementalUpdate = function (taskParams, lineData) {\n    this._progressiveEls = [];\n    function updateIncrementalAndHover(el) {\n      if (!el.isGroup && !isEffectObject(el)) {\n        el.incremental = true;\n        el.ensureState('emphasis').hoverLayer = true;\n      }\n    }\n    for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n      var itemLayout = lineData.getItemLayout(idx);\n      if (lineNeedsDraw(itemLayout)) {\n        var el = new this._LineCtor(lineData, idx, this._seriesScope);\n        el.traverse(updateIncrementalAndHover);\n        this.group.add(el);\n        lineData.setItemGraphicEl(idx, el);\n        this._progressiveEls.push(el);\n      }\n    }\n  };\n  ;\n  LineDraw.prototype.remove = function () {\n    this.group.removeAll();\n  };\n  ;\n  LineDraw.prototype.eachRendered = function (cb) {\n    graphic.traverseElements(this._progressiveEls || this.group, cb);\n  };\n  LineDraw.prototype._doAdd = function (lineData, idx, seriesScope) {\n    var itemLayout = lineData.getItemLayout(idx);\n    if (!lineNeedsDraw(itemLayout)) {\n      return;\n    }\n    var el = new this._LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, el);\n    this.group.add(el);\n  };\n  LineDraw.prototype._doUpdate = function (oldLineData, newLineData, oldIdx, newIdx, seriesScope) {\n    var itemEl = oldLineData.getItemGraphicEl(oldIdx);\n    if (!lineNeedsDraw(newLineData.getItemLayout(newIdx))) {\n      this.group.remove(itemEl);\n      return;\n    }\n    if (!itemEl) {\n      itemEl = new this._LineCtor(newLineData, newIdx, seriesScope);\n    } else {\n      itemEl.updateData(newLineData, newIdx, seriesScope);\n    }\n    newLineData.setItemGraphicEl(newIdx, itemEl);\n    this.group.add(itemEl);\n  };\n  return LineDraw;\n}();\nfunction isEffectObject(el) {\n  return el.animators && el.animators.length > 0;\n}\nfunction makeSeriesScope(lineData) {\n  var hostModel = lineData.hostModel;\n  var emphasisModel = hostModel.getModel('emphasis');\n  return {\n    lineStyle: hostModel.getModel('lineStyle').getLineStyle(),\n    emphasisLineStyle: emphasisModel.getModel(['lineStyle']).getLineStyle(),\n    blurLineStyle: hostModel.getModel(['blur', 'lineStyle']).getLineStyle(),\n    selectLineStyle: hostModel.getModel(['select', 'lineStyle']).getLineStyle(),\n    emphasisDisabled: emphasisModel.get('disabled'),\n    blurScope: emphasisModel.get('blurScope'),\n    focus: emphasisModel.get('focus'),\n    labelStatesModels: getLabelStatesModels(hostModel)\n  };\n}\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\nfunction lineNeedsDraw(pts) {\n  return pts && !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\nexport default LineDraw;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// @ts-nocheck\nimport * as echarts from '../../core/echarts.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar ATTR = '\\0_ec_interaction_mutex';\nexport function take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\nexport function release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\nexport function isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n// TODO: SELF REGISTERED.\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, noop);", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport * as eventTool from 'zrender/lib/core/event.js';\nimport * as interactionMutex from './interactionMutex.js';\nimport { isString, bind, defaults, clone } from 'zrender/lib/core/util.js';\n;\nvar RoamController = /** @class */function (_super) {\n  __extends(RoamController, _super);\n  function RoamController(zr) {\n    var _this = _super.call(this) || this;\n    _this._zr = zr;\n    // Avoid two roamController bind the same handler\n    var mousedownHandler = bind(_this._mousedownHandler, _this);\n    var mousemoveHandler = bind(_this._mousemoveHandler, _this);\n    var mouseupHandler = bind(_this._mouseupHandler, _this);\n    var mousewheelHandler = bind(_this._mousewheelHandler, _this);\n    var pinchHandler = bind(_this._pinchHandler, _this);\n    /**\n     * Notice: only enable needed types. For example, if 'zoom'\n     * is not needed, 'zoom' should not be enabled, otherwise\n     * default mousewheel behaviour (scroll page) will be disabled.\n     */\n    _this.enable = function (controlType, opt) {\n      // Disable previous first\n      this.disable();\n      this._opt = defaults(clone(opt) || {}, {\n        zoomOnMouseWheel: true,\n        moveOnMouseMove: true,\n        // By default, wheel do not trigger move.\n        moveOnMouseWheel: false,\n        preventDefaultMouseMove: true\n      });\n      if (controlType == null) {\n        controlType = true;\n      }\n      if (controlType === true || controlType === 'move' || controlType === 'pan') {\n        zr.on('mousedown', mousedownHandler);\n        zr.on('mousemove', mousemoveHandler);\n        zr.on('mouseup', mouseupHandler);\n      }\n      if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n        zr.on('mousewheel', mousewheelHandler);\n        zr.on('pinch', pinchHandler);\n      }\n    };\n    _this.disable = function () {\n      zr.off('mousedown', mousedownHandler);\n      zr.off('mousemove', mousemoveHandler);\n      zr.off('mouseup', mouseupHandler);\n      zr.off('mousewheel', mousewheelHandler);\n      zr.off('pinch', pinchHandler);\n    };\n    return _this;\n  }\n  RoamController.prototype.isDragging = function () {\n    return this._dragging;\n  };\n  RoamController.prototype.isPinching = function () {\n    return this._pinching;\n  };\n  RoamController.prototype.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  RoamController.prototype.dispose = function () {\n    this.disable();\n  };\n  RoamController.prototype._mousedownHandler = function (e) {\n    if (eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      return;\n    }\n    var el = e.target;\n    while (el) {\n      if (el.draggable) {\n        return;\n      }\n      // check if host is draggable\n      el = el.__hostTarget || el.parent;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    // Only check on mosedown, but not mousemove.\n    // Mouse can be out of target when mouse moving.\n    if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n      this._x = x;\n      this._y = y;\n      this._dragging = true;\n    }\n  };\n  RoamController.prototype._mousemoveHandler = function (e) {\n    if (!this._dragging || !isAvailableBehavior('moveOnMouseMove', e, this._opt) || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var x = e.offsetX;\n    var y = e.offsetY;\n    var oldX = this._x;\n    var oldY = this._y;\n    var dx = x - oldX;\n    var dy = y - oldY;\n    this._x = x;\n    this._y = y;\n    this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n    trigger(this, 'pan', 'moveOnMouseMove', e, {\n      dx: dx,\n      dy: dy,\n      oldX: oldX,\n      oldY: oldY,\n      newX: x,\n      newY: y,\n      isAvailableBehavior: null\n    });\n  };\n  RoamController.prototype._mouseupHandler = function (e) {\n    if (!eventTool.isMiddleOrRightButtonOnMouseUpDown(e)) {\n      this._dragging = false;\n    }\n  };\n  RoamController.prototype._mousewheelHandler = function (e) {\n    var shouldZoom = isAvailableBehavior('zoomOnMouseWheel', e, this._opt);\n    var shouldMove = isAvailableBehavior('moveOnMouseWheel', e, this._opt);\n    var wheelDelta = e.wheelDelta;\n    var absWheelDeltaDelta = Math.abs(wheelDelta);\n    var originX = e.offsetX;\n    var originY = e.offsetY;\n    // wheelDelta maybe -0 in chrome mac.\n    if (wheelDelta === 0 || !shouldZoom && !shouldMove) {\n      return;\n    }\n    // If both `shouldZoom` and `shouldMove` is true, trigger\n    // their event both, and the final behavior is determined\n    // by event listener themselves.\n    if (shouldZoom) {\n      // Convenience:\n      // Mac and VM Windows on Mac: scroll up: zoom out.\n      // Windows: scroll up: zoom in.\n      // FIXME: Should do more test in different environment.\n      // wheelDelta is too complicated in difference nvironment\n      // (https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel),\n      // although it has been normallized by zrender.\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var factor = absWheelDeltaDelta > 3 ? 1.4 : absWheelDeltaDelta > 1 ? 1.2 : 1.1;\n      var scale = wheelDelta > 0 ? factor : 1 / factor;\n      checkPointerAndTrigger(this, 'zoom', 'zoomOnMouseWheel', e, {\n        scale: scale,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n    if (shouldMove) {\n      // FIXME: Should do more test in different environment.\n      var absDelta = Math.abs(wheelDelta);\n      // wheelDelta of mouse wheel is bigger than touch pad.\n      var scrollDelta = (wheelDelta > 0 ? 1 : -1) * (absDelta > 3 ? 0.4 : absDelta > 1 ? 0.15 : 0.05);\n      checkPointerAndTrigger(this, 'scrollMove', 'moveOnMouseWheel', e, {\n        scrollDelta: scrollDelta,\n        originX: originX,\n        originY: originY,\n        isAvailableBehavior: null\n      });\n    }\n  };\n  RoamController.prototype._pinchHandler = function (e) {\n    if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n      return;\n    }\n    var scale = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n    checkPointerAndTrigger(this, 'zoom', null, e, {\n      scale: scale,\n      originX: e.pinchX,\n      originY: e.pinchY,\n      isAvailableBehavior: null\n    });\n  };\n  return RoamController;\n}(Eventful);\nfunction checkPointerAndTrigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  if (controller.pointerChecker && controller.pointerChecker(e, contollerEvent.originX, contollerEvent.originY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    trigger(controller, eventName, behaviorToCheck, e, contollerEvent);\n  }\n}\nfunction trigger(controller, eventName, behaviorToCheck, e, contollerEvent) {\n  // Also provide behavior checker for event listener, for some case that\n  // multiple components share one listener.\n  contollerEvent.isAvailableBehavior = bind(isAvailableBehavior, null, behaviorToCheck, e);\n  // TODO should not have type issue.\n  controller.trigger(eventName, contollerEvent);\n}\n// settings: {\n//     zoomOnMouseWheel\n//     moveOnMouseMove\n//     moveOnMouseWheel\n// }\n// The value can be: true / false / 'shift' / 'ctrl' / 'alt'.\nfunction isAvailableBehavior(behaviorToCheck, e, settings) {\n  var setting = settings[behaviorToCheck];\n  return !behaviorToCheck || setting && (!isString(setting) || e.event[setting + 'Key']);\n}\nexport default RoamController;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * For geo and graph.\n */\nexport function updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  target.x += dx;\n  target.y += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n */\nexport function updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom;\n  // Keep the mouse center when scaling\n  target.x -= (zoomX - target.x) * (zoomScale - 1);\n  target.y -= (zoomY - target.y) * (zoomScale - 1);\n  target.scaleX *= zoomScale;\n  target.scaleY *= zoomScale;\n  target.dirty();\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\nexport function onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget);\n  // If model is axisModel, it works only if it is injected with coordinateSystem.\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES.hasOwnProperty(model.mainType) && coordSys && coordSys.model !== targetCoordSysModel;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as curveTool from 'zrender/lib/core/curve.js';\nimport * as vec2 from 'zrender/lib/core/vector.js';\nimport { getSymbolSize } from './graphHelper.js';\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  }\n  // Assume the segment is monotoneFind root through Bisection method\n  // At most 32 iteration\n  for (var i = 0; i < 32; i++) {\n    // let prev = t - interval;\n    var next = t + interval;\n    // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    }\n    // let prevDiff = v2DistSquare(v1, center) - radiusSquare;\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n  return t;\n}\n// Adjust edge to avoid\nexport default function adjustEdge(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n    var originalPoints = linePoints.__original;\n    // Quadratic curve\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale);\n        // Subdivide and get the second\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale);\n        // Subdivide and get the first\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      }\n      // Copy back to layout\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    }\n    // Line\n    else {\n      vec2.copy(pts2[0], originalPoints[0]);\n      vec2.copy(pts2[1], originalPoints[1]);\n      vec2.sub(v, pts2[1], pts2[0]);\n      vec2.normalize(v, v);\n      if (fromSymbol && fromSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n      }\n      if (toSymbol && toSymbol !== 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n      }\n      vec2.copy(linePoints[0], pts2[0]);\n      vec2.copy(linePoints[1], pts2[1]);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SymbolDraw from '../helper/SymbolDraw.js';\nimport LineDraw from '../helper/LineDraw.js';\nimport RoamController from '../../component/helper/RoamController.js';\nimport * as roamHelper from '../../component/helper/roamHelper.js';\nimport { onIrrelevantElement } from '../../component/helper/cursorHelper.js';\nimport * as graphic from '../../util/graphic.js';\nimport adjustEdge from './adjustEdge.js';\nimport { getNodeGlobalScale } from './graphHelper.js';\nimport ChartView from '../../view/Chart.js';\nimport { getECData } from '../../util/innerStore.js';\nimport { simpleLayoutEdge } from './simpleLayoutHelper.js';\nimport { circularLayout, rotateNodeLabel } from './circularLayoutHelper.js';\nfunction isViewCoordSys(coordSys) {\n  return coordSys.type === 'view';\n}\nvar GraphView = /** @class */function (_super) {\n  __extends(GraphView, _super);\n  function GraphView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphView.type;\n    return _this;\n  }\n  GraphView.prototype.init = function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  };\n  GraphView.prototype.render = function (seriesModel, ecModel, api) {\n    var _this = this;\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n    if (isViewCoordSys(coordSys)) {\n      var groupNewProp = {\n        x: coordSys.x,\n        y: coordSys.y,\n        scaleX: coordSys.scaleX,\n        scaleY: coordSys.scaleY\n      };\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    }\n    // Fix edge contact point with node\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    // TODO: TYPE\n    lineDraw.updateData(edgeData);\n    this._updateNodeAndLinkScale();\n    this._updateController(seriesModel, ecModel, api);\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get(['force', 'layoutAnimation']);\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n    var layout = seriesModel.get('layout');\n    data.graph.eachNode(function (node) {\n      var idx = node.dataIndex;\n      var el = node.getGraphicEl();\n      var itemModel = node.getModel();\n      if (!el) {\n        return;\n      }\n      // Update draggable\n      el.off('drag').off('dragend');\n      var draggable = itemModel.get('draggable');\n      if (draggable) {\n        el.on('drag', function (e) {\n          switch (layout) {\n            case 'force':\n              forceLayout.warmUp();\n              !_this._layouting && _this._startForceLayoutIteration(forceLayout, layoutAnimation);\n              forceLayout.setFixed(idx);\n              // Write position back to layout\n              data.setItemLayout(idx, [el.x, el.y]);\n              break;\n            case 'circular':\n              data.setItemLayout(idx, [el.x, el.y]);\n              // mark node fixed\n              node.setLayout({\n                fixed: true\n              }, true);\n              // recalculate circular layout\n              circularLayout(seriesModel, 'symbolSize', node, [e.offsetX, e.offsetY]);\n              _this.updateLayout(seriesModel);\n              break;\n            case 'none':\n            default:\n              data.setItemLayout(idx, [el.x, el.y]);\n              // update edge\n              simpleLayoutEdge(seriesModel.getGraph(), seriesModel);\n              _this.updateLayout(seriesModel);\n              break;\n          }\n        }).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        });\n      }\n      el.setDraggable(draggable, !!itemModel.get('cursor'));\n      var focus = itemModel.get(['emphasis', 'focus']);\n      if (focus === 'adjacency') {\n        getECData(el).focus = node.getAdjacentDataIndices();\n      }\n    });\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      var focus = edge.getModel().get(['emphasis', 'focus']);\n      if (!el) {\n        return;\n      }\n      if (focus === 'adjacency') {\n        getECData(el).focus = {\n          edge: [edge.dataIndex],\n          node: [edge.node1.dataIndex, edge.node2.dataIndex]\n        };\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get(['circular', 'rotateLabel']);\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.graph.eachNode(function (node) {\n      rotateNodeLabel(node, circularRotateLabel, cx, cy);\n    });\n    this._firstRender = false;\n  };\n  GraphView.prototype.dispose = function () {\n    this.remove();\n    this._controller && this._controller.dispose();\n    this._controllerHost = null;\n  };\n  GraphView.prototype._startForceLayoutIteration = function (forceLayout, layoutAnimation) {\n    var self = this;\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  };\n  GraphView.prototype._updateController = function (seriesModel, ecModel, api) {\n    var _this = this;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n    if (!isViewCoordSys(seriesModel.coordinateSystem)) {\n      controller.disable();\n      return;\n    }\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (e) {\n      roamHelper.updateViewOnPan(controllerHost, e.dx, e.dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: e.dx,\n        dy: e.dy\n      });\n    }).on('zoom', function (e) {\n      roamHelper.updateViewOnZoom(controllerHost, e.scale, e.originX, e.originY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: e.scale,\n        originX: e.originX,\n        originY: e.originY\n      });\n      _this._updateNodeAndLinkScale();\n      adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n      _this._lineDraw.updateLayout();\n      // Only update label layout on zoom\n      api.updateLabelLayout();\n    });\n  };\n  GraphView.prototype._updateNodeAndLinkScale = function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n    var nodeScale = getNodeGlobalScale(seriesModel);\n    data.eachItemGraphicEl(function (el, idx) {\n      el && el.setSymbolScale(nodeScale);\n    });\n  };\n  GraphView.prototype.updateLayout = function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), getNodeGlobalScale(seriesModel));\n    this._symbolDraw.updateLayout();\n    this._lineDraw.updateLayout();\n  };\n  GraphView.prototype.remove = function () {\n    clearTimeout(this._layoutTimeout);\n    this._layouting = false;\n    this._layoutTimeout = null;\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  };\n  GraphView.type = 'graph';\n  return GraphView;\n}(ChartView);\nexport default GraphView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\nvar Graph = /** @class */function () {\n  function Graph(directed) {\n    this.type = 'graph';\n    this.nodes = [];\n    this.edges = [];\n    this._nodesMap = {};\n    /**\n     * @type {Object.<string, module:echarts/data/Graph.Edge>}\n     * @private\n     */\n    this._edgesMap = {};\n    this._directed = directed || false;\n  }\n  /**\n   * If is directed graph\n   */\n  Graph.prototype.isDirected = function () {\n    return this._directed;\n  };\n  ;\n  /**\n   * Add a new node\n   */\n  Graph.prototype.addNode = function (id, dataIndex) {\n    id = id == null ? '' + dataIndex : '' + id;\n    var nodesMap = this._nodesMap;\n    if (nodesMap[generateNodeKey(id)]) {\n      if (process.env.NODE_ENV !== 'production') {\n        console.error('Graph nodes have duplicate name or id');\n      }\n      return;\n    }\n    var node = new GraphNode(id, dataIndex);\n    node.hostGraph = this;\n    this.nodes.push(node);\n    nodesMap[generateNodeKey(id)] = node;\n    return node;\n  };\n  ;\n  /**\n   * Get node by data index\n   */\n  Graph.prototype.getNodeByIndex = function (dataIndex) {\n    var rawIdx = this.data.getRawIndex(dataIndex);\n    return this.nodes[rawIdx];\n  };\n  ;\n  /**\n   * Get node by id\n   */\n  Graph.prototype.getNodeById = function (id) {\n    return this._nodesMap[generateNodeKey(id)];\n  };\n  ;\n  /**\n   * Add a new edge\n   */\n  Graph.prototype.addEdge = function (n1, n2, dataIndex) {\n    var nodesMap = this._nodesMap;\n    var edgesMap = this._edgesMap;\n    // PENDING\n    if (zrUtil.isNumber(n1)) {\n      n1 = this.nodes[n1];\n    }\n    if (zrUtil.isNumber(n2)) {\n      n2 = this.nodes[n2];\n    }\n    if (!(n1 instanceof GraphNode)) {\n      n1 = nodesMap[generateNodeKey(n1)];\n    }\n    if (!(n2 instanceof GraphNode)) {\n      n2 = nodesMap[generateNodeKey(n2)];\n    }\n    if (!n1 || !n2) {\n      return;\n    }\n    var key = n1.id + '-' + n2.id;\n    var edge = new GraphEdge(n1, n2, dataIndex);\n    edge.hostGraph = this;\n    if (this._directed) {\n      n1.outEdges.push(edge);\n      n2.inEdges.push(edge);\n    }\n    n1.edges.push(edge);\n    if (n1 !== n2) {\n      n2.edges.push(edge);\n    }\n    this.edges.push(edge);\n    edgesMap[key] = edge;\n    return edge;\n  };\n  ;\n  /**\n   * Get edge by data index\n   */\n  Graph.prototype.getEdgeByIndex = function (dataIndex) {\n    var rawIdx = this.edgeData.getRawIndex(dataIndex);\n    return this.edges[rawIdx];\n  };\n  ;\n  /**\n   * Get edge by two linked nodes\n   */\n  Graph.prototype.getEdge = function (n1, n2) {\n    if (n1 instanceof GraphNode) {\n      n1 = n1.id;\n    }\n    if (n2 instanceof GraphNode) {\n      n2 = n2.id;\n    }\n    var edgesMap = this._edgesMap;\n    if (this._directed) {\n      return edgesMap[n1 + '-' + n2];\n    } else {\n      return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n    }\n  };\n  ;\n  /**\n   * Iterate all nodes\n   */\n  Graph.prototype.eachNode = function (cb, context) {\n    var nodes = this.nodes;\n    var len = nodes.length;\n    for (var i = 0; i < len; i++) {\n      if (nodes[i].dataIndex >= 0) {\n        cb.call(context, nodes[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Iterate all edges\n   */\n  Graph.prototype.eachEdge = function (cb, context) {\n    var edges = this.edges;\n    var len = edges.length;\n    for (var i = 0; i < len; i++) {\n      if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n        cb.call(context, edges[i], i);\n      }\n    }\n  };\n  ;\n  /**\n   * Breadth first traverse\n   * Return true to stop traversing\n   */\n  Graph.prototype.breadthFirstTraverse = function (cb, startNode, direction, context) {\n    if (!(startNode instanceof GraphNode)) {\n      startNode = this._nodesMap[generateNodeKey(startNode)];\n    }\n    if (!startNode) {\n      return;\n    }\n    var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n    for (var i = 0; i < this.nodes.length; i++) {\n      this.nodes[i].__visited = false;\n    }\n    if (cb.call(context, startNode, null)) {\n      return;\n    }\n    var queue = [startNode];\n    while (queue.length) {\n      var currentNode = queue.shift();\n      var edges = currentNode[edgeType];\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n        if (!otherNode.__visited) {\n          if (cb.call(context, otherNode, currentNode)) {\n            // Stop traversing\n            return;\n          }\n          queue.push(otherNode);\n          otherNode.__visited = true;\n        }\n      }\n    }\n  };\n  ;\n  // TODO\n  // depthFirstTraverse(\n  //     cb, startNode, direction, context\n  // ) {\n  // };\n  // Filter update\n  Graph.prototype.update = function () {\n    var data = this.data;\n    var edgeData = this.edgeData;\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n    edgeData.filterSelf(function (idx) {\n      var edge = edges[edgeData.getRawIndex(idx)];\n      return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n    });\n    // Update edge\n    for (var i = 0, len = edges.length; i < len; i++) {\n      edges[i].dataIndex = -1;\n    }\n    for (var i = 0, len = edgeData.count(); i < len; i++) {\n      edges[edgeData.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  ;\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  Graph.prototype.clone = function () {\n    var graph = new Graph(this._directed);\n    var nodes = this.nodes;\n    var edges = this.edges;\n    for (var i = 0; i < nodes.length; i++) {\n      graph.addNode(nodes[i].id, nodes[i].dataIndex);\n    }\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n    }\n    return graph;\n  };\n  ;\n  return Graph;\n}();\nvar GraphNode = /** @class */function () {\n  function GraphNode(id, dataIndex) {\n    this.inEdges = [];\n    this.outEdges = [];\n    this.edges = [];\n    this.dataIndex = -1;\n    this.id = id == null ? '' : id;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.degree = function () {\n    return this.edges.length;\n  };\n  /**\n   * @return {number}\n   */\n  GraphNode.prototype.inDegree = function () {\n    return this.inEdges.length;\n  };\n  /**\n  * @return {number}\n  */\n  GraphNode.prototype.outDegree = function () {\n    return this.outEdges.length;\n  };\n  GraphNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphNode.prototype.getAdjacentDataIndices = function () {\n    var dataIndices = {\n      edge: [],\n      node: []\n    };\n    for (var i = 0; i < this.edges.length; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      dataIndices.edge.push(adjacentEdge.dataIndex);\n      dataIndices.node.push(adjacentEdge.node1.dataIndex, adjacentEdge.node2.dataIndex);\n    }\n    return dataIndices;\n  };\n  GraphNode.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    for (var i = 0; i < this.edges.length; i++) {\n      var adjacentEdge = this.edges[i];\n      if (adjacentEdge.dataIndex < 0) {\n        continue;\n      }\n      connectedEdgesMap.set(adjacentEdge.dataIndex, true);\n      var sourceNodesQueue = [adjacentEdge.node1];\n      var targetNodesQueue = [adjacentEdge.node2];\n      var nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < sourceNodesQueue.length) {\n        var sourceNode = sourceNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(sourceNode.dataIndex, true);\n        for (var j = 0; j < sourceNode.inEdges.length; j++) {\n          connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex, true);\n          sourceNodesQueue.push(sourceNode.inEdges[j].node1);\n        }\n      }\n      nodeIteratorIndex = 0;\n      while (nodeIteratorIndex < targetNodesQueue.length) {\n        var targetNode = targetNodesQueue[nodeIteratorIndex];\n        nodeIteratorIndex++;\n        connectedNodesMap.set(targetNode.dataIndex, true);\n        for (var j = 0; j < targetNode.outEdges.length; j++) {\n          connectedEdgesMap.set(targetNode.outEdges[j].dataIndex, true);\n          targetNodesQueue.push(targetNode.outEdges[j].node2);\n        }\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphNode;\n}();\nvar GraphEdge = /** @class */function () {\n  function GraphEdge(n1, n2, dataIndex) {\n    this.dataIndex = -1;\n    this.node1 = n1;\n    this.node2 = n2;\n    this.dataIndex = dataIndex == null ? -1 : dataIndex;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  GraphEdge.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n    var graph = this.hostGraph;\n    var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  };\n  GraphEdge.prototype.getAdjacentDataIndices = function () {\n    return {\n      edge: [this.dataIndex],\n      node: [this.node1.dataIndex, this.node2.dataIndex]\n    };\n  };\n  GraphEdge.prototype.getTrajectoryDataIndices = function () {\n    var connectedEdgesMap = zrUtil.createHashMap();\n    var connectedNodesMap = zrUtil.createHashMap();\n    connectedEdgesMap.set(this.dataIndex, true);\n    var sourceNodes = [this.node1];\n    var targetNodes = [this.node2];\n    var nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < sourceNodes.length) {\n      var sourceNode = sourceNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(sourceNode.dataIndex, true);\n      for (var j = 0; j < sourceNode.inEdges.length; j++) {\n        connectedEdgesMap.set(sourceNode.inEdges[j].dataIndex, true);\n        sourceNodes.push(sourceNode.inEdges[j].node1);\n      }\n    }\n    nodeIteratorIndex = 0;\n    while (nodeIteratorIndex < targetNodes.length) {\n      var targetNode = targetNodes[nodeIteratorIndex];\n      nodeIteratorIndex++;\n      connectedNodesMap.set(targetNode.dataIndex, true);\n      for (var j = 0; j < targetNode.outEdges.length; j++) {\n        connectedEdgesMap.set(targetNode.outEdges[j].dataIndex, true);\n        targetNodes.push(targetNode.outEdges[j].node2);\n      }\n    }\n    return {\n      edge: connectedEdgesMap.keys(),\n      node: connectedNodesMap.keys()\n    };\n  };\n  return GraphEdge;\n}();\nfunction createGraphDataProxyMixin(hostName, dataName) {\n  return {\n    /**\n     * @param Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.getStore().get(data.getDimensionIndex(dimension || 'value'), this.dataIndex);\n    },\n    // TODO: TYPE stricter type.\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n    getVisual: function (key) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key);\n    },\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n}\n;\n;\n;\nzrUtil.mixin(GraphNode, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(GraphEdge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nexport default Graph;\nexport { GraphNode, GraphEdge };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util.js';\nimport { makeInner } from '../../util/model.js';\nvar inner = makeInner();\nfunction linkSeriesData(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt);\n  // Porxy data original methods.\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  });\n  // Beyond transfer, additional features should be added to `cloneShallow`.\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt));\n  // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  });\n  // Make sure datas contains mainData.\n  assert(datas[mainData.dataType] === mainData);\n}\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n  return res;\n}\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  }\n  // Supplement method.\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\nexport default linkSeriesData;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport SeriesData from '../../data/SeriesData.js';\nimport Graph from '../../data/Graph.js';\nimport linkSeriesData from '../../data/helper/linkSeriesData.js';\nimport prepareSeriesDataSchema from '../../data/helper/createDimensions.js';\nimport CoordinateSystem from '../../core/CoordinateSystem.js';\nimport createSeriesData from './createSeriesData.js';\nimport { convertOptionIdName } from '../../util/model.js';\nexport default function createGraphFromNodeEdge(nodes, edges, seriesModel, directed, beforeLink) {\n  // ??? TODO\n  // support dataset?\n  var graph = new Graph(directed);\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve(\n    // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target;\n    // addEdge may fail when source or target not exists\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(convertOptionIdName(link.id, null), source + ' > ' + target));\n      linkCount++;\n    }\n  }\n  var coordSys = seriesModel.get('coordinateSystem');\n  var nodeData;\n  if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n    nodeData = createSeriesData(nodes, seriesModel);\n  } else {\n    var coordSysCtor = CoordinateSystem.get(coordSys);\n    var coordDimensions = coordSysCtor ? coordSysCtor.dimensions || [] : [];\n    // FIXME: Some geo do not need `value` dimenson, whereas `calendar` needs\n    // `value` dimension, but graph need `value` dimension. It's better to\n    // uniform this behavior.\n    if (zrUtil.indexOf(coordDimensions, 'value') < 0) {\n      coordDimensions.concat(['value']);\n    }\n    var dimensions = prepareSeriesDataSchema(nodes, {\n      coordDimensions: coordDimensions,\n      encodeDefine: seriesModel.getEncode()\n    }).dimensions;\n    nodeData = new SeriesData(dimensions, seriesModel);\n    nodeData.initData(nodes);\n  }\n  var edgeData = new SeriesData(['value'], seriesModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkSeriesData({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  });\n  // Update dataIndex of nodes and edges because invalid edge may be removed\n  graph.update();\n  return graph;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n */\nvar LegendVisualProvider = /** @class */function () {\n  function LegendVisualProvider(\n  // Function to get data after filtered. It stores all the encoding info\n  getDataWithEncodedVisual,\n  // Function to get raw data before filtered.\n  getRawData) {\n    this._getDataWithEncodedVisual = getDataWithEncodedVisual;\n    this._getRawData = getRawData;\n  }\n  LegendVisualProvider.prototype.getAllNames = function () {\n    var rawData = this._getRawData();\n    // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n    return rawData.mapArray(rawData.getName);\n  };\n  LegendVisualProvider.prototype.containName = function (name) {\n    var rawData = this._getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n  LegendVisualProvider.prototype.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n  LegendVisualProvider.prototype.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = this._getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n  return LegendVisualProvider;\n}();\nexport default LegendVisualProvider;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport SeriesData from '../../data/SeriesData.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { defaultEmphasis } from '../../util/model.js';\nimport Model from '../../model/Model.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport SeriesModel from '../../model/Series.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport { defaultSeriesFormatTooltip } from '../../component/tooltip/seriesFormatTooltip.js';\nimport { initCurvenessList, createEdgeMapForCurveness } from '../helper/multipleGraphEdgeHelper.js';\nvar GraphSeriesModel = /** @class */function (_super) {\n  __extends(GraphSeriesModel, _super);\n  function GraphSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = GraphSeriesModel.type;\n    _this.hasSymbolVisual = true;\n    return _this;\n  }\n  GraphSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    var self = this;\n    function getCategoriesData() {\n      return self._categoriesData;\n    }\n    // Provide data for legend select\n    this.legendVisualProvider = new LegendVisualProvider(getCategoriesData, getCategoriesData);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n    this._updateCategoriesData();\n  };\n  GraphSeriesModel.prototype.mergeDefaultAndTheme = function (option) {\n    _super.prototype.mergeDefaultAndTheme.apply(this, arguments);\n    defaultEmphasis(option, 'edgeLabel', ['show']);\n  };\n  GraphSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n    if (nodes && edges) {\n      // auto curveness\n      initCurvenessList(this);\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      zrUtil.each(graph.edges, function (edge) {\n        createEdgeMapForCurveness(edge.node1, edge.node2, this, edge.dataIndex);\n      }, this);\n      return graph.data;\n    }\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n        return model;\n      });\n      // TODO Inherit resolveParentPath by default in Model#getModel?\n      var oldGetModel = Model.prototype.getModel;\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n          return newPathArr;\n        }\n        return pathArr;\n      }\n    }\n  };\n  GraphSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  GraphSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  GraphSeriesModel.prototype.getCategoriesData = function () {\n    return this._categoriesData;\n  };\n  GraphSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    }\n    // dataType === 'node' or empty\n    var nodeMarkup = defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n    return nodeMarkup;\n  };\n  GraphSeriesModel.prototype._updateCategoriesData = function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new SeriesData(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx);\n    });\n  };\n  GraphSeriesModel.prototype.setZoom = function (zoom) {\n    this.option.zoom = zoom;\n  };\n  GraphSeriesModel.prototype.setCenter = function (center) {\n    this.option.center = center;\n  };\n  GraphSeriesModel.prototype.isAnimationEnabled = function () {\n    return _super.prototype.isAnimationEnabled.call(this)\n    // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get(['force', 'layoutAnimation']));\n  };\n  GraphSeriesModel.type = 'series.graph';\n  GraphSeriesModel.dependencies = ['grid', 'polar', 'geo', 'singleAxis', 'calendar'];\n  GraphSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    layout: null,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Initial friction\n      friction: 0.6,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      position: 'middle',\n      distance: 5\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      show: false,\n      formatter: '{b}'\n    },\n    itemStyle: {},\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      opacity: 0.5\n    },\n    emphasis: {\n      scale: true,\n      label: {\n        show: true\n      }\n    },\n    select: {\n      itemStyle: {\n        borderColor: '#212121'\n      }\n    }\n  };\n  return GraphSeriesModel;\n}(SeriesModel);\nexport default GraphSeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction getCenterCoord(view, point) {\n  // Use projected coord as center because it's linear.\n  return view.pointToProjected ? view.pointToProjected(point) : view.pointToData(point);\n}\nexport function updateCenterAndZoom(view, payload, zoomLimit, api) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.projectedToPoint ? view.projectedToPoint(center) : view.dataToPoint(center);\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    view.setCenter(getCenterCoord(view, point), api);\n  }\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    }\n    // Zoom on given point(originX, originY)\n    view.scaleX *= zoom;\n    view.scaleY *= zoom;\n    var fixX = (payload.originX - view.x) * (zoom - 1);\n    var fixY = (payload.originY - view.y) * (zoom - 1);\n    view.x -= fixX;\n    view.y -= fixY;\n    view.updateTransform();\n    // Get the new center\n    view.setCenter(getCenterCoord(view, point), api);\n    view.setZoom(zoom * previousZoom);\n  }\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport categoryFilter from './categoryFilter.js';\nimport categoryVisual from './categoryVisual.js';\nimport edgeVisual from './edgeVisual.js';\nimport simpleLayout from './simpleLayout.js';\nimport circularLayout from './circularLayout.js';\nimport forceLayout from './forceLayout.js';\nimport createView from './createView.js';\nimport View from '../../coord/View.js';\nimport GraphView from './GraphView.js';\nimport GraphSeriesModel from './GraphSeries.js';\nimport { updateCenterAndZoom } from '../../action/roamHelper.js';\nimport { noop } from 'zrender/lib/core/util.js';\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\nexport function install(registers) {\n  registers.registerChartView(GraphView);\n  registers.registerSeriesModel(GraphSeriesModel);\n  registers.registerProcessor(categoryFilter);\n  registers.registerVisual(categoryVisual);\n  registers.registerVisual(edgeVisual);\n  registers.registerLayout(simpleLayout);\n  registers.registerLayout(registers.PRIORITY.VISUAL.POST_CHART_LAYOUT, circularLayout);\n  registers.registerLayout(forceLayout);\n  registers.registerCoordinateSystem('graphView', {\n    dimensions: View.dimensions,\n    create: createView\n  });\n  // Register legacy focus actions\n  registers.registerAction({\n    type: 'focusNodeAdjacency',\n    event: 'focusNodeAdjacency',\n    update: 'series:focusNodeAdjacency'\n  }, noop);\n  registers.registerAction({\n    type: 'unfocusNodeAdjacency',\n    event: 'unfocusNodeAdjacency',\n    update: 'series:unfocusNodeAdjacency'\n  }, noop);\n  // Register roam action.\n  registers.registerAction(actionInfo, function (payload, ecModel, api) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      query: payload\n    }, function (seriesModel) {\n      var coordSys = seriesModel.coordinateSystem;\n      var res = updateCenterAndZoom(coordSys, payload, undefined, api);\n      seriesModel.setCenter && seriesModel.setCenter(res.center);\n      seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { use } from '../extension.js';\nimport { install } from './graph/install.js';\nuse(install);"],
  "mappings": "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",
  "names": ["normalize", "symbolType", "symbolSize", "len", "keys", "clone", "clone", "scaleAndAdd", "clone", "i", "n", "edges", "View", "copy", "create", "len", "Symbol", "idx", "scale", "SymbolDraw", "el", "StraightLineShape", "CurveShape", "ECLinePath", "createSymbol", "Line", "percent", "tangent", "Line_default", "LineDraw", "Line_default", "makeSeriesScope", "el", "RoamController", "scale", "quadraticAt", "scale", "quadraticSubdivide", "clone", "GraphView", "forceLayout", "Graph", "len", "GraphNode", "GraphEdge", "LegendVisualProvider", "GraphSeriesModel"]
}
